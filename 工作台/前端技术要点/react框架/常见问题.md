## Q：使用hooks注意

1. 不能将hooks放在循环、条件和嵌套方法内，因为react是根据hooks出现顺序来记录对应状态的

## Q：useEffect中为什么会无限执行

1. 没有设置依赖项

## Q：useEffect中出现竟态

1. 取消异步请求
2. 设置布尔值变量追踪

## Q：依赖频繁变更时，如何避免 `useCallback` 频繁执行

1. 使用### `useReducer` 替代 `useState`
2. ### 向 `setState` 中传递函数

##  Q：如何在父组件中调用子组件的状态或者方法

使用useImperativeHandle

## Q：为何使用redux-thunk

[地址](https://juejin.cn/post/6869950884231675912)

## Q：setState是同步的还是异步的
[地址](https://juejin.cn/post/7035104240217358350)

1. 在合成事件是异步的
2. 在hooks中是异步的
3. 在脱离了react掌控，是同步的，如setTimeout、Promiset.then等
![[Pasted image 20230209165704.png]]


A：默认是异步的，但有时候是同步的；在react控制内的事件处理函数onClick、onChange等合成事件，以及生命周期函数点用setState时表现为异步，react可以把多个setState合并成一次进行批量更新；在setTimeout或者原生事件中，setState是同步的（比如setTimeout/setInterval/Promise.then(fn)/fetch 回调/xhr 网络回调）。
